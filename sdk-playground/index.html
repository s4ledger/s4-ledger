<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S4 Ledger | SDK Playground</title>
    <meta name="description" content="Interactive sandbox to explore the S4 Ledger Python SDK. Hash, anchor, and verify defense logistics records on XRPL.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../s4-assets/style.css">
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <style>
        .example-btn{background:rgba(0,170,255,0.08);color:var(--accent);border:1px solid rgba(0,170,255,0.25);border-radius:10px;padding:10px 18px;cursor:pointer;font-weight:600;font-size:0.85rem;transition:all 0.3s;font-family:inherit;margin:4px}
        .example-btn:hover{background:rgba(0,170,255,0.15);transform:translateY(-2px)}
        .example-btn.active{background:linear-gradient(135deg,#00aaff,#0088cc);color:#fff;border-color:transparent;box-shadow:0 5px 20px rgba(0,170,255,0.3)}
        .code-editor{background:rgba(5,8,16,0.95);border:1px solid rgba(0,170,255,0.2);border-radius:12px;font-family:'Monaco','Menlo','Courier New',monospace;font-size:0.9rem;color:#e0e8f0;min-height:240px;width:100%;resize:vertical;padding:20px;line-height:1.6}
        .code-editor:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(0,170,255,0.15);outline:none}
        .output-panel{background:rgba(5,8,16,0.95);border:1px solid rgba(201,168,76,0.2);border-radius:12px;padding:20px;font-family:'Monaco','Menlo',monospace;font-size:0.85rem;color:var(--text-secondary);min-height:150px;max-height:400px;overflow-y:auto;white-space:pre-wrap;line-height:1.6}
        .run-btn{background:linear-gradient(135deg,#00aaff,#0088cc);color:#fff;border:none;border-radius:10px;padding:12px 28px;cursor:pointer;font-weight:700;font-size:1rem;transition:all 0.3s;display:inline-flex;align-items:center;gap:8px;font-family:inherit}
        .run-btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(0,170,255,0.3)}
        .run-btn:disabled{opacity:0.5;cursor:not-allowed;transform:none}
        .ref-table{width:100%;border-collapse:collapse}
        .ref-table th{color:var(--accent);padding:12px;border-bottom:2px solid rgba(0,170,255,0.2);text-align:left;font-weight:700;font-size:0.85rem}
        .ref-table td{padding:12px;border-bottom:1px solid rgba(255,255,255,0.05);color:var(--text-secondary);font-size:0.9rem}
        .ref-table tr:hover td{background:rgba(0,170,255,0.03)}
        .ref-method{font-family:'Monaco',monospace;color:var(--accent);font-weight:600}
        .editor-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;flex-wrap:wrap;gap:10px}
        .lang-badge{background:rgba(201,168,76,0.15);color:var(--gold);padding:4px 12px;border-radius:6px;font-size:0.8rem;font-weight:600}
        .output-header{display:flex;align-items:center;gap:8px;margin-bottom:12px;color:var(--gold);font-weight:700}
        .status-dot{width:8px;height:8px;border-radius:50%;background:#4ADE80}
        .status-dot.error{background:#ff6b6b}
        .install-box{background:rgba(5,8,16,0.95);border:1px solid var(--border);border-radius:8px;padding:12px 16px;font-family:'Monaco',monospace;font-size:0.9rem;color:var(--accent)}
    </style>
</head>
<body>
    <div class="scroll-progress" id="scrollProgress"></div>
    <div class="mesh-bg"><div class="gradient-orb orb-1"></div><div class="gradient-orb orb-2"></div><div class="gradient-orb orb-3"></div></div>
    <div id="particles-js"></div>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="../"><img src="../s4-assets/S4Ledger_logo.png" alt="S4 Ledger" class="nav-logo"><span class="brand-text">S4 Ledger</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><i class="fas fa-bars" style="color:#fff"></i></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../">Home</a></li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Company</a><ul class="dropdown-menu" style="background:rgba(5,8,16,0.98);border:1px solid rgba(255,255,255,0.1);"><li><a class="dropdown-item" href="../s4-about/" style="color:#fff;">About Us</a></li><li><a class="dropdown-item" href="../s4-investors/" style="color:#fff;">Investors</a></li><li><a class="dropdown-item" href="../s4-partners/" style="color:#fff;">Partners</a></li></ul></li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle active" href="#" data-bs-toggle="dropdown">Products</a><ul class="dropdown-menu" style="background:rgba(5,8,16,0.98);border:1px solid rgba(255,255,255,0.1);"><li><a class="dropdown-item" href="../demo-app/" style="color:#fff;"><i class="fas fa-play-circle" style="width:18px;margin-right:6px;color:#00aaff;"></i>Demo App</a></li><li><a class="dropdown-item" href="#" style="color:#fff;font-weight:600;"><i class="fas fa-code" style="width:18px;margin-right:6px;color:#c9a84c;"></i>SDK Playground</a></li><li><a class="dropdown-item" href="../metrics.html" style="color:#fff;"><i class="fas fa-chart-bar" style="width:18px;margin-right:6px;color:#00aaff;"></i>Live Metrics</a></li><li><a class="dropdown-item" href="../transactions.html" style="color:#fff;"><i class="fas fa-list" style="width:18px;margin-right:6px;color:#c9a84c;"></i>Transactions</a></li><li><a class="dropdown-item" href="https://github.com/s4ledger/s4-ledger" target="_blank" style="color:#fff;"><i class="fab fa-github" style="width:18px;margin-right:6px;"></i>SDK & Docs</a></li></ul></li>
                    <li class="nav-item"><a class="nav-link" href="../s4-use-cases/">Use Cases</a></li>
                    <li class="nav-item"><a class="nav-link" href="../s4-pricing/">Pricing</a></li>
                    <li class="nav-item"><a class="nav-link" href="../s4-roadmap/">Roadmap</a></li>
                    <li class="nav-item"><a class="nav-link" href="../s4-faq/">FAQ</a></li>
                    <li class="nav-item"><a class="nav-link" href="../s4-contact/">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HERO -->
    <div class="page-hero">
        <h1><i class="fas fa-code" style="margin-right:12px;color:var(--gold)"></i><span class="gradient-text">SDK</span> Playground</h1>
        <p>Explore the S4 Ledger Python SDK &mdash; hash, anchor, and verify defense records interactively</p>
    </div>

    <div class="container">
        <!-- Example Selector -->
        <div class="mb-4 reveal" style="text-align:center;">
            <button class="example-btn active" onclick="loadExample('hash',this)"><i class="fas fa-hashtag"></i> Hash Record</button>
            <button class="example-btn" onclick="loadExample('anchor',this)"><i class="fas fa-anchor"></i> Anchor Record</button>
            <button class="example-btn" onclick="loadExample('verify',this)"><i class="fas fa-check-circle"></i> Verify Record</button>
            <button class="example-btn" onclick="loadExample('batch',this)"><i class="fas fa-layer-group"></i> Batch Anchor</button>
            <button class="example-btn" onclick="loadExample('status',this)"><i class="fas fa-search"></i> Check Status</button>
        </div>

        <div class="row">
            <div class="col-lg-7 mb-4">
                <!-- Code Editor -->
                <div class="card reveal">
                    <div class="editor-header">
                        <h3 style="margin:0;"><i class="fas fa-terminal" style="color:var(--accent);margin-right:8px;"></i> Code Editor</h3>
                        <span class="lang-badge"><i class="fab fa-python" style="margin-right:4px;"></i> Python</span>
                    </div>
                    <textarea class="code-editor" id="codeEditor" spellcheck="false"></textarea>
                    <div class="mt-3 d-flex gap-2 align-items-center flex-wrap">
                        <button class="run-btn" id="runBtn" onclick="runCode()"><i class="fas fa-play"></i> Run</button>
                        <span style="color:var(--text-muted);font-size:0.85rem;"><i class="fas fa-info-circle"></i> Simulated execution &mdash; no backend required</span>
                    </div>
                </div>

                <!-- Output -->
                <div class="card reveal">
                    <div class="output-header">
                        <span class="status-dot" id="statusDot"></span>
                        <span>Output</span>
                    </div>
                    <div class="output-panel" id="outputPanel">Click "Run" to execute the code above...</div>
                </div>
            </div>

            <div class="col-lg-5 mb-4">
                <!-- How It Works -->
                <div class="card reveal">
                    <h3 style="margin-bottom:12px;"><i class="fas fa-lightbulb" style="color:var(--gold);margin-right:8px;"></i> How It Works</h3>
                    <div style="font-size:0.9rem;line-height:1.8;color:var(--text-secondary);">
                        <div><i class="fas fa-check" style="color:var(--accent);width:18px;margin-right:6px;"></i> SHA-256 hashing runs in your browser (Web Crypto API)</div>
                        <div><i class="fas fa-check" style="color:var(--accent);width:18px;margin-right:6px;"></i> Anchor &amp; verify simulate real SDK calls</div>
                        <div><i class="fas fa-check" style="color:var(--accent);width:18px;margin-right:6px;"></i> No data leaves your browser</div>
                        <div><i class="fas fa-check" style="color:var(--accent);width:18px;margin-right:6px;"></i> Output matches the real Python SDK format</div>
                        <div style="margin-top:12px;"><a href="https://github.com/s4ledger/s4-ledger" target="_blank" style="color:var(--accent);font-weight:600;text-decoration:none;"><i class="fab fa-github" style="margin-right:4px;"></i> View Full SDK on GitHub &rarr;</a></div>
                    </div>
                </div>

                <!-- Install -->
                <div class="card reveal">
                    <h3 style="margin-bottom:12px;"><i class="fas fa-download" style="color:var(--accent);margin-right:8px;"></i> Install the SDK</h3>
                    <div class="install-box">pip install s4-ledger-sdk</div>
                    <p style="font-size:0.85rem;color:var(--text-muted);margin-top:10px;">Requires Python 3.8+ and xrpl-py</p>
                </div>

                <!-- SDK Reference -->
                <div class="card reveal">
                    <h3 style="margin-bottom:12px;"><i class="fas fa-book" style="color:var(--accent);margin-right:8px;"></i> SDK Quick Reference</h3>
                    <table class="ref-table">
                        <tr><th>Method</th><th>Description</th></tr>
                        <tr><td class="ref-method">hash_record()</td><td>SHA-256 hash of record content</td></tr>
                        <tr><td class="ref-method">anchor_record()</td><td>Anchor hash to XRPL with $SLS fee</td></tr>
                        <tr><td class="ref-method">verify_record()</td><td>Verify record against anchored hash</td></tr>
                        <tr><td class="ref-method">batch_anchor()</td><td>Anchor multiple records in one call</td></tr>
                        <tr><td class="ref-method">get_transaction()</td><td>Look up anchored transaction</td></tr>
                        <tr><td class="ref-method">list_records()</td><td>List all anchored records</td></tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div style="margin-bottom:12px;"><img src="../s4-assets/S4Ledger_logo.png" alt="S4 Ledger" class="footer-logo"><span style="font-weight:700;font-size:1.1rem;">S4 Ledger</span><span style="color:var(--text-muted);margin-left:5px;">&mdash; Secure Logistics Standard</span></div>
            <p style="font-size:0.82rem;margin-bottom:10px;">Immutable logistics verification for the defense industry. Built on the XRP Ledger.</p>
            <div style="margin-bottom:10px;"><a href="https://github.com/s4ledger/s4-ledger" target="_blank" style="color:var(--text-muted);margin:0 10px;text-decoration:none;"><i class="fab fa-github fa-lg"></i></a><a href="https://x.com/S4_Ledger" target="_blank" style="color:var(--text-muted);margin:0 10px;text-decoration:none;"><i class="fab fa-x-twitter fa-lg"></i></a><a href="https://linkedin.com" target="_blank" style="color:var(--text-muted);margin:0 10px;text-decoration:none;"><i class="fab fa-linkedin fa-lg"></i></a></div>
            <p style="font-size:0.75rem;color:var(--text-muted);">$SLS is a utility token &mdash; not equity or an investment contract. &copy; 2026 S4 Ledger.</p>
        </div>
    </footer>

    <button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">&#8593;</button>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../s4-assets/main.js"></script>
    <script>
    // ═══════════════════════════════════════════════════════
    //  S4 LEDGER — SDK PLAYGROUND ENGINE
    // ═══════════════════════════════════════════════════════

    const EXAMPLES = {
        hash: {
            code: 'from s4_sdk import S4Ledger\n\n# Initialize the SDK\nledger = S4Ledger()\n\n# Hash a defense logistics record\nrecord = """Supply Chain Receipt\nNSN: 5340-01-234-5678\nNomenclature: Valve, Gate, Carbon Steel\nContract: N00024-23-C-5501\nQuantity: 50 EA\nCondition: A (Serviceable)"""\n\nresult = ledger.hash_record(record)\nprint(f"SHA-256 Hash: {result}")\nprint(f"Hash Length: {len(result)} characters")',
            run: async () => {
                const record = "Supply Chain Receipt\nNSN: 5340-01-234-5678\nNomenclature: Valve, Gate, Carbon Steel\nContract: N00024-23-C-5501\nQuantity: 50 EA\nCondition: A (Serviceable)";
                const hash = await sha256(record);
                return '>>> ledger.hash_record(record)\n\nSHA-256 Hash: ' + hash + '\nHash Length:  64 characters\n\n\u2713 No data leaves your system \u2014 only this hash is anchored.';
            }
        },
        anchor: {
            code: 'from s4_sdk import S4Ledger\n\n# Initialize with credentials\nledger = S4Ledger(\n    wallet_seed="sEdV...",   # XRPL wallet\n    network="testnet"\n)\n\n# Anchor a maintenance record\nresult = ledger.anchor_record(\n    content="""Maintenance 3-M Action\nMRC: 2815-1.3.7\nEquipment: LM2500 Gas Turbine\nHull: DDG-118\nAction: Oil sample analysis\nTechnician: MM2(SW) Garcia""",\n    record_type="MAINTENANCE_3M",\n    encrypt=True  # CUI protection\n)\n\nprint(result)',
            run: async () => {
                const record = "Maintenance 3-M Action\nMRC: 2815-1.3.7\nEquipment: LM2500 Gas Turbine\nHull: DDG-118\nAction: Oil sample analysis\nTechnician: MM2(SW) Garcia";
                const hash = await sha256(record);
                const txHash = 'TX' + Array.from(crypto.getRandomValues(new Uint8Array(16))).map(b=>b.toString(16).padStart(2,'0')).join('').toUpperCase();
                return '>>> ledger.anchor_record(content, record_type="MAINTENANCE_3M", encrypt=True)\n\n{\n  "status":      "anchored",\n  "hash":        "' + hash + '",\n  "tx_hash":     "' + txHash + '",\n  "record_type": "MAINTENANCE_3M",\n  "encrypted":   true,\n  "sls_fee":     0.01,\n  "network":     "testnet",\n  "ledger_idx":  89247613,\n  "timestamp":   "' + new Date().toISOString() + '"\n}\n\n\u2713 Record anchored to XRPL \u2014 0.01 $SLS fee paid to treasury.';
            }
        },
        verify: {
            code: 'from s4_sdk import S4Ledger\n\nledger = S4Ledger()\n\n# Original record to verify\noriginal = """CDRL Delivery Record\nCDRL: A003\nTitle: Technical Manual Update Rev 4.2\nContract: N00024-23-C-5501\nContractor: Huntington Ingalls Industries"""\n\n# Expected hash from when it was anchored\nexpected = ledger.hash_record(original)\n\n# Verify integrity\nresult = ledger.verify_record(\n    content=original,\n    expected_hash=expected\n)\n\nprint(result)',
            run: async () => {
                const record = "CDRL Delivery Record\nCDRL: A003\nTitle: Technical Manual Update Rev 4.2\nContract: N00024-23-C-5501\nContractor: Huntington Ingalls Industries";
                const hash = await sha256(record);
                return '>>> ledger.verify_record(content, expected_hash)\n\n{\n  "verified":      true,\n  "computed_hash": "' + hash + '",\n  "expected_hash": "' + hash + '",\n  "match":         true,\n  "message":       "Record integrity confirmed \u2014 hash matches anchored value."\n}\n\n\u2713 VERIFIED \u2014 Record has not been altered since anchoring.';
            }
        },
        batch: {
            code: 'from s4_sdk import S4Ledger\n\nledger = S4Ledger(wallet_seed="sEdV...", network="testnet")\n\n# Batch anchor multiple records\nrecords = [\n    {"content": "Supply receipt NSN 5340-01-234-5678",\n     "type": "SUPPLY_CHAIN"},\n    {"content": "Ordnance lot WCC-2025-1147-A inspected",\n     "type": "ORDNANCE_LOT"},\n    {"content": "CASREP DDG-78 radar transmitter module",\n     "type": "CASREP"},\n]\n\nresults = ledger.batch_anchor(records)\n\nfor r in results:\n    print(f"{r[\'type\']:20s} -> {r[\'hash\'][:16]}... ok")',
            run: async () => {
                const records = [
                    { content: "Supply receipt NSN 5340-01-234-5678", type: "SUPPLY_CHAIN" },
                    { content: "Ordnance lot WCC-2025-1147-A inspected", type: "ORDNANCE_LOT" },
                    { content: "CASREP DDG-78 radar transmitter module", type: "CASREP" }
                ];
                let output = ">>> ledger.batch_anchor(records)\n\n";
                for (const r of records) {
                    const hash = await sha256(r.content);
                    output += r.type.padEnd(20) + ' \u2192 ' + hash.substring(0, 16) + '... \u2713\n';
                }
                output += '\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nBatch complete: ' + records.length + ' records anchored\nTotal $SLS fee: ' + (records.length * 0.01).toFixed(2) + '\n\n\u2713 All records anchored in a single batch transaction.';
                return output;
            }
        },
        status: {
            code: 'from s4_sdk import S4Ledger\n\nledger = S4Ledger(network="testnet")\n\n# Look up an anchored transaction\ntx_hash = "TX8A3F1B2C4D5E6F7A8B9C0D1E2F3A4B"\n\nresult = ledger.get_transaction(tx_hash)\n\nprint(f"Status:  {result[\'status\']}")\nprint(f"Type:    {result[\'record_type\']}")\nprint(f"Hash:    {result[\'hash\']}")\nprint(f"Fee:     {result[\'sls_fee\']} $SLS")\nprint(f"Ledger:  {result[\'ledger_index\']}")',
            run: async () => {
                const hash = await sha256("Supply receipt NSN 5340-01-234-5678");
                return '>>> ledger.get_transaction("TX8A3F1B2C4D5E6F7A8B9C0D1E2F3A4B")\n\n{\n  "status":       "validated",\n  "record_type":  "SUPPLY_CHAIN",\n  "hash":         "' + hash + '",\n  "sls_fee":      0.01,\n  "ledger_index": 89247613,\n  "account":      "rJPqcx8wUBM58ajPUoz1dReKkTT6hqrqJA",\n  "timestamp":    "2026-02-13T14:30:22Z",\n  "explorer":     "https://testnet.xrpl.org/transactions/TX8A3F..."\n}\n\n\u2713 Transaction found and validated on XRPL Testnet.';
            }
        }
    };

    let currentExample = 'hash';

    async function sha256(text) {
        const data = new TextEncoder().encode(text);
        const buf = await crypto.subtle.digest('SHA-256', data);
        return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join('');
    }

    function loadExample(key, el) {
        currentExample = key;
        document.getElementById('codeEditor').value = EXAMPLES[key].code;
        document.getElementById('outputPanel').textContent = 'Click "Run" to execute the code...';
        document.getElementById('statusDot').className = 'status-dot';
        document.querySelectorAll('.example-btn').forEach(b => b.classList.remove('active'));
        if (el) el.classList.add('active');
    }

    async function runCode() {
        const btn = document.getElementById('runBtn');
        const output = document.getElementById('outputPanel');
        const dot = document.getElementById('statusDot');
        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Running...';
        output.textContent = '>>> Executing...\n';
        dot.className = 'status-dot';
        await new Promise(r => setTimeout(r, 600 + Math.random() * 800));
        try {
            const result = await EXAMPLES[currentExample].run();
            output.textContent = result;
            dot.className = 'status-dot';
        } catch (err) {
            output.textContent = '\u274c Error: ' + err.message;
            dot.className = 'status-dot error';
        }
        btn.disabled = false;
        btn.innerHTML = '<i class="fas fa-play"></i> Run';
    }

    // Load default example
    document.addEventListener('DOMContentLoaded', () => {
        loadExample('hash', document.querySelector('.example-btn'));
    });
    </script>
</body>
</html>
